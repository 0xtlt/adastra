class r extends HTMLElement{constructor(){super(),this.form=this.querySelector("form"),this.button=this.querySelector('[type="submit"]'),this.form.querySelector("[name=id]").disabled=!1,this.form.addEventListener("submit",this.submitHandler.bind(this))}async submitHandler(e){e.preventDefault(),this.button.classList.add("animate-pulse");const s=(t="javascript")=>({method:"POST",headers:{"X-Requested-With":"XMLHttpRequest",Accept:`application/${t}`},body:new FormData(this.form)});try{await fetch(`${routes.cart_add_url}`,s()),window.location=window.shopUrl+"/checkout"}catch(t){console.error(t)}}}customElements.define("product-form",r);
